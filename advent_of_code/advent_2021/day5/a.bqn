input â† â€¢FLines "data.txt"
Split â† (â€¢Import "strings.bqn").Split

ParseNat â† {
  +Â´ (10 â‹† (âŒ½â†•â‰ ğ•©)) Ã— ğ•© - '0' 
}

ParseLine â† {
  âŸ¨a, bc, dâŸ© â† ',' Split ğ•©
  âŸ¨b, arrow, câŸ© â† ' ' Split bc
  ParseNatÂ¨Â¨ âŸ¨âŸ¨a, bâŸ©, âŸ¨c, dâŸ©âŸ©
}

LineIncluding â† {
    LineIncluding âŸ¨âŸ¨a, bâŸ©, âŸ¨c, dâŸ©âŸ©: a = c ? aâŠ¸â‹ˆÂ¨ (b âŒŠ d) + â†• 1 + (| b - d) ;
    LineIncluding âŸ¨âŸ¨a, bâŸ©, âŸ¨c, dâŸ©âŸ©: b = d ? âŒ½Â¨ LineIncluding âŸ¨âŸ¨b, aâŸ©, âŸ¨d, câŸ©âŸ© ;

    LineIncluding âŸ¨âŸ¨a, bâŸ©, âŸ¨c, dâŸ©âŸ©: (a < c) âˆ§ (b < d) ? (<âŸ¨a, bâŸ©) + â‹ˆËœÂ¨(â†•1 + (c - a)) ;
    LineIncluding âŸ¨âŸ¨a, bâŸ©, âŸ¨c, dâŸ©âŸ©: (a > c) âˆ§ (b < d) ? (<âŸ¨a, bâŸ©) + (<âŸ¨-1, 1âŸ©) Ã— â‹ˆËœÂ¨(â†•1 + (a - c)) ;

    LineIncluding âŸ¨âŸ¨a, bâŸ©, âŸ¨c, dâŸ©âŸ©: (a > c) âˆ§ (b > d) ? LineIncluding âŸ¨âŸ¨c, dâŸ©, âŸ¨a, bâŸ©âŸ© ;
    LineIncluding âŸ¨âŸ¨a, bâŸ©, âŸ¨c, dâŸ©âŸ©: (a < c) âˆ§ (b > d) ? LineIncluding âŸ¨âŸ¨c, dâŸ©, âŸ¨a, bâŸ©âŸ©
}

data â† ParseLineÂ¨ input

Run â† {
  +Â´ (((âˆŠâŒ¾âŒ½) Ã— âŠ’) âˆ¾ LineIncludingÂ¨ ğ•©) > 0
}

â€¢Show Run (({ğ•© > 0}âˆ˜+Â´âˆ˜=Â´)Â¨ / âŠ£) data
â€¢Show Run data
