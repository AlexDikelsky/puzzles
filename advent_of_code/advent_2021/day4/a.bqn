strs â† â€¢Import "strings.bqn"

data â† â€¢FLines "data.txt"

ParseNat â† {
  +Â´ (10 â‹† (âŒ½â†•â‰ ğ•©)) Ã— ğ•© - '0' 
}

ParseBingo â† {
  ! 6 = â‰  ğ•©
  a â† âˆ¾' 'âŠ¸strs.SplitÂ¨ 1 â†“ ğ•©
  b â† ParseNatÂ¨ (0â‰ â‰ Â¨a) / a 
  ! 25 = â‰ b
  âŸ¨5, 5âŸ© â¥Š b
}

Steps â† {
  nums Steps board:
    data â† âŸ¨5, 5âŸ© â¥Š nums âŠ (âŸ¨25âŸ© â¥Š board)
    âŒŠÂ´ (âŒˆË data) âˆ¾ (âŒˆËË˜ data)
}

Winning â† {
  nums Steps board:
    data â† âŸ¨5, 5âŸ© â¥Š nums âŠ (âŸ¨25âŸ© â¥Š board)
    min â† âŒŠÂ´ (âŒˆË data) âˆ¾ (âŒˆËË˜ data)
    used â† Â¬(â‰ nums) = data 
    col â† (5 = +Ëused ) / board
    row â† (5 = +ËË˜used) / board
    ! 1 = (â‰  col) + (â‰  row)
    (âŠ‘âŒ½nums) Ã— +Â´â¥Šboard Ã— Â¬used
}

Subset â† {
  ((1+6Ã—ğ•©) +â†•6) âŠ data
}

z â† Subset 2
x â† ParseNatÂ¨ ',' strs.Split âŠ‘ data

boards â† ParseBingoÂ¨ SubsetÂ¨ â†•((â‰ data)-1) Ã· 6
as â† xâŠ¸StepsÂ¨ boards
minsteps â† âŒŠÂ´ as
sol_idx â† âŠ‘ as âŠ minsteps
â€¢Show ((1+minsteps) â†‘ x) Winning sol_idx âŠ‘ boards 
